<div class="layout">

  <!-- OVERLAY MOBILE -->
  <div class="overlay" *ngIf="mobile && menuAberto" (click)="toggleMenu()">
  </div>

  <!-- MENU -->
  <aside class="sidebar" [class.closed]="!menuAberto">

    <!-- LOGO -->
    <div class="logo">
      <span *ngIf="menuAberto">Menu</span>
    </div>

    <!-- MENU PRINCIPAL -->
    <nav>
      <!-- HOME -->
      <div class="menu-item" routerLink="/dashboard" (click)="fecharMenuMobile()">
        ğŸ  <span *ngIf="menuAberto">Home</span>
      </div>

      <!-- CADASTROS -->
      <div class="menu-item" (click)="abrirSubmenu('cadastros')">
        ğŸ“ <span *ngIf="menuAberto">Cadastros</span>
      </div>

      <div class="submenu" *ngIf="submenuAberto === 'cadastros'">

        <!-- Pacientes (logado) -->
        <a *ngIf="isRecepcaoOuAdmin()" routerLink="/pacientes" (click)="fecharMenuMobile()">
          Pacientes
        </a>

        <!-- Profissionais (ADMIN) -->
        <a
          *ngIf="isAdmin()"
          routerLink="/funcionarios"
          (click)="fecharMenuMobile()"
        >
          Profissionais
        </a>

        <!-- UsuÃ¡rios (ADMIN) -->
        <a
          *ngIf="isAdmin()"
          routerLink="/usuarios"
          (click)="fecharMenuMobile()"
        >
          UsuÃ¡rios
        </a>

      </div>

      <!-- AGENDA -->
      <div class="menu-item" (click)="abrirSubmenu('agenda')">
        ğŸ“… <span *ngIf="menuAberto">Agenda</span>
      </div>

      <div class="submenu" *ngIf="submenuAberto === 'agenda'">
        <a *ngIf="isRecepcaoOuAdmin()" routerLink="/agenda" (click)="fecharMenuMobile()">Agendamentos</a>
        <a *ngIf="isTodos()" routerLink="/calendario" (click)="fecharMenuMobile()">CalendÃ¡rio</a>
        <a *ngIf="isTodos()" routerLink="/prontuario" (click)="fecharMenuMobile()">ProntuÃ¡rios</a>
      </div>

      <!-- EVOLUÃ‡ÃƒO -->
      <div class="menu-item" (click)="abrirSubmenu('evolucao')">
        ğŸ“ˆ <span *ngIf="menuAberto">EvoluÃ§Ã£o Paciente</span>
      </div>

      <div class="submenu" *ngIf="submenuAberto === 'evolucao'">
        <a *ngIf="isProfissionalOuAdmin()" routerLink="/evolucao" (click)="fecharMenuMobile()">EvoluÃ§Ã£o</a>
      </div>

      <!-- AVALIAÃ‡Ã•ES -->
      <div class="menu-item" *ngIf="isProfissionalOuAdmin()" routerLink="/avaliacoes" (click)="fecharMenuMobile()">
        ğŸ§  <span *ngIf="menuAberto">AvaliaÃ§Ãµes</span>
      </div>

    </nav>

    <!-- ğŸ”» RODAPÃ‰ DO MENU -->
    <div class="menu-footer">

      <a routerLink="/sobre" (click)="fecharMenuMobile()">
        â„¹ï¸ <span *ngIf="menuAberto">Sobre</span>
      </a>

      <a class="logout" (click)="logout()">
        âŒ <span *ngIf="menuAberto">Sair</span>
      </a>

    </div>

  </aside>

  <!-- CONTEÃšDO -->
  <main class="content">

    <header>
      <button class="menu-btn" (click)="toggleMenu()">â˜°</button>
      <h2>Sistema de GestÃ£o ClÃ­nica</h2>
    </header>

    <section class="page">
      <router-outlet></router-outlet>
    </section>

    <!-- âœ… RODAPÃ‰ -->
    <app-footer></app-footer>

  </main>
</div>